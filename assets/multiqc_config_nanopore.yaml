report_comment: >
    This report has been generated by the <a href="https://github.com/nf-core/viralrecon" target="_blank">nf-core/viralrecon</a>
    analysis pipeline. For information about how to interpret these results, please see the
    <a href="https://github.com/nf-core/viralrecon" target="_blank">documentation</a>.

data_format: 'yaml'

run_modules:
    - custom_content
    - samtools
    - bcftools
    - mosdepth
    - snpeff
    - quast

exclude_modules:
    - 'general_stats'

module_order:
    - samtools:
        name: 'SAMTools'
        info: 'This section of the report shows SAMTools counts/statistics after removal of unmapped reads from artic minion BAM output.'
        path_filters:
            - './samtools_stats/*'
    - mosdepth:
        name: 'mosdepth'
        info: 'This section of the report shows genome-wide coverage metrics generated by mosdepth.'
    - bcftools:
        name: 'BCFTools'
        info: 'This section of the report shows BCFTools stats results for variants called by iVar.'
        path_filters:
            - './bcftools_stats/*.txt'
    - snpeff:
        name: 'SnpEff'
        info: 'This section of the report shows SnpEff results for variants called by iVar.'
        path_filters:
            - './snpeff/*.csv'
    - quast:
        name: 'QUAST'
        info: 'This section of the report shows QUAST results for consensus sequences generated from artic minion.'
        path_filters:
            - './quast/*.tsv'

report_section_order:
    software_versions:
        order: -1001
    nf-core-viralrecon-summary:
        order: -1002

bcftools:
    collapse_complementary_changes: true

extra_fn_clean_exts:
    - '.consensus'
    - '.pass'
    - '.mapped'
    - '.snpeff'

# See https://github.com/ewels/MultiQC_TestData/blob/master/data/custom_content/with_config/table_headerconfig/multiqc_config.yaml
custom_data:
    fail_no_barcode_samples:
        section_name: 'WARNING: No barcode'
        description: "List of samples that were specified in mappings samplesheet via '--input' but didn't have an associated barcode in the '--fastq_dir' folder."
        plot_type: 'table'
        pconfig:
            id: 'fail_no_barcode_samples_table'
            table_title: 'Samples without barcodes'
            namespace: 'Samples without barcodes'
            format: '{:,.0f}'
    fail_barcode_count_samples:
        section_name: 'WARNING: Fail barcode read count'
        description: "Samples that failed the minimum number of reads required per barcode specified via the '--min_barcode_reads' parameter, and hence were ignored for the downstream processing steps."
        plot_type: 'bargraph'
        pconfig:
            id: 'fail_barcode_count_samples_table'
            table_title: 'Samples failed barcode read count threshold'
            namespace: 'Samples failed barcode read count threshold'
            format: '{:,.0f}'
    fail_guppyplex_count_samples:
        section_name: 'WARNING: Fail guppyplex read count'
        description: "Samples that failed the minimum number of reads required per sample specified via the '--min_guppyplex_reads' parameter, and hence were ignored for the downstream processing steps."
        plot_type: 'bargraph'
        pconfig:
            id: 'fail_guppyplex_count_samples_table'
            table_title: 'Samples failed artic guppyplex read count threshold'
            namespace: 'Samples failed artic guppyplex read count threshold'
            format: '{:,.0f}'
    summary_variants_metrics:
        section_name: 'Variant calling metrics'
        description: 'generated by the nf-core/viralrecon pipeline'
        plot_type: 'table'
        pconfig:
            id: 'summary_variants_metrics_plot_table'
            table_title: 'Variant calling metrics'
            namespace: 'Variant calling metrics'
            format: '{:.0f}'

# # Customise the module search patterns to speed up execution time
# #  - Skip module sub-tools that we are not interested in
# #  - Replace file-content searching with filename pattern searching
# #  - Don't add anything that is the same as the MultiQC default
# # See https://multiqc.info/docs/#optimise-file-search-patterns for details
sp:
    mosdepth/global_dist:
        fn: '*.global.dist.txt'
